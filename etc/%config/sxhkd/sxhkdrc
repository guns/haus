
#            _     _       _
#   _____  _| |__ | | ____| |
#  / __\ \/ / '_ \| |/ / _` |
#  \__ \>  <| | | |   < (_| |
#  |___/_/\_\_| |_|_|\_\__,_|  guns <self@sungpae.com>
#

super + alt + control + r
	notify --audio 'Reloading bspwmrc and sxhkdrc'; \
	pkill -USR1 -x sxhkd; \
	~/.config/bspwm/bspwmrc

super + alt + control + q
	bspc quit

#
# Desktops
#

super + alt + space
	bspc desktop --layout next

super + alt + {j,k,button1,button3}
	bspc desktop --focus {next,prev,next,prev}

super + alt + {l,h}
	DIR={next,prev,next,prev}; \
	bspc window --to-desktop "$DIR" && \
	bspc desktop --focus "$DIR"

super + alt + {1-9}
	bspc desktop --focus ^{1-9}

super + alt + shift + {1-9}
	bspc window --to-desktop ^{1-9}

super + alt + control + shift + {1-9}
	bspc desktop --swap ^{1-9}

super + alt + {Next,Prior,button4,button5}
	GAP=$(($(bspc config -d focused window_gap) {+,-,+,-} 4)); \
	bspc config -d focused window_gap $((GAP < 0 ? 0 : GAP))

super + alt + {f,v}
	bspc desktop --flip {vertical,horizontal}

super + alt + {b,e}
	bspc desktop --{balance,equalize}

super + alt + r
	bspc desktop --rotate 90

super + alt + 0
	bspc desktop --cancel-presel

super + alt + w
	feh --bg-fill "$(randfile -r ~/Media/Wallpapers)"

#
# Windows
#

super + q
	bspc window --close

super + Tab
	bspc window --focus next

super + shift + Tab
	bspc window --focus prev

alt + Tab
	if pkill -x skippy-xd; then \
		bspc window --focus focused; \
	else \
		skippy-xd; \
	fi

super + control + {h,j,k,l}
	bspc window --presel {left,down,up,right}

super + control + shift + {h,j,k,l}
	DIR={left,down,up,right}; \
	bspc window --swap "$DIR" || bspc window --swap "$(if [[ "$DIR" == @(down|right) ]]; then echo "next"; else echo "prev"; fi)"

super + control + {1-9}
	bspc window --ratio 0.{1-9}

# -t, --toggle floating|fullscreen|pseudo_tiled|locked|sticky|private[=on|off]

super + control + f
	bspc window --toggle floating

F11
	bspc window --toggle fullscreen

super + control + p
	bspc window --toggle pseudo_tiled

super + control + x
	bspc window --toggle locked

super + control + s
	bspc window --toggle sticky

super + control + z
	bspc window --toggle private

super + alt + control + {h,j,k,l}
	bspc window --edge {left -10,down +10,up -10,right +10}

super + alt + control + shift + {h,j,k,l}
	bspc window --edge {right -10,up +10,down -10,left +10}

~button1
	bspc pointer --grab focus

super + button{1-3}
	bspc pointer --grab {move,resize_side,resize_corner}

super + !button{1-3}
	bspc pointer --track %i %i

super + @button{1-3}
	bspc pointer --ungrab

#
# Hardware / Media control
#

XF86AudioMute
	ponymix toggle

XF86AudioLowerVolume
	ponymix decrease 5

XF86AudioRaiseVolume
	ponymix increase 5

super + XF86AudioMute
	T='♫ alsamixer ♫'; \
	wmctrl -a "$T" || \
	urxvt-client -title "$T" -icon ~/.icons/haus/alsamixergui.svg -g 130x30 -e alsamixer -Vall

alt + XF86AudioMute
	if pkill -0 -x pulseaudio; then \
		notify --no-audio - < <(hwctl toggle-pulseaudio-sink); \
	else \
		notify --no-audio - < <(hwctl toggle-alsa-card); \
	fi

alt + shift + XF86AudioMute
	if pkill -0 -x pulseaudio; then \
		notify --no-audio - < <(hwctl toggle-pulseaudio-source); \
	fi

Scroll_Lock
	STATUS=$(if [[ "$(toggle-mouse)" -eq 1 ]]; then echo ON; else echo OFF; fi); \
	notify --audio "Mouse $STATUS"

super + control + shift + {space,Left,Right}
	mediactl {toggle,prev,next}

{XF86Eject,Pause}
	pkill -HUP -x gpg-agent; sudo -n /usr/bin/powerctl slock

control + {XF86Eject,Pause}
	pkill -HUP -x gpg-agent

alt + {XF86Eject,Pause}
	if pkill -x xautolock; then \
		notify --audio 'DISABLED xautolock'; \
	else \
		xautolock-wrapper; \
		notify --audio 'Enabled xautolock'; \
	fi

{super + XF86Eject,super + Pause,XF86Sleep}
	sudo -n /usr/bin/powerctl suspend

super + alt + {XF86Eject,Pause,XF86Sleep}
	sudo -n /usr/bin/powerctl reboot

super + control + alt + {XF86Eject,Pause,XF86Sleep}
	sudo -n /usr/bin/powerctl poweroff

super + control + alt + shift + {Left,Right,Up,Down}
	xrandr -o {left,right,inverted,normal}

Print
	sleep 0.1; scrot -s -e 'mv "$f" ~/Downloads'

#
# Applications
#

F9
	wmctrl -a "guns ❦ $HOSTNAME"

super + F9
	wmctrl -a "root ❦ $HOSTNAME"

alt + F9
	urxvt-client

alt + shift + F9
	urxvt-client -e tmuxlaunch -nd

super + alt + shift + F9
	urxvt-client -icon ~/.icons/haus/root-terminal.svg -e sudo -H tmuxlaunch -d

F12
	T='✉ Mutt ✉'; \
	wmctrl -a "$T" || wmctrl -a "mutt-$HOSTNAME" || \
	urxvt-client -cd ~/Downloads -g 120x40 -title "$T" -icon ~/.icons/haus/mail.svg -e muttlaunch

super + F12
	urxvt-client -cd ~/Downloads -g 120x40 -title '✉ Mutt ✉' -icon ~/.icons/haus/mail.svg -e muttlaunch --force

alt + F12
	chromium --incognito --app=https://mail.google.com/

super + alt + F12
	chromium --incognito --app=https://voice.google.com/

super + control + e
	urxvt-client -icon ~/.icons/haus/vim.svg -e vim

super + control + t
	T="✔ TODO ✔"; \
	wmctrl -a "$T" || wmctrl -a "TODO.org" || \
	urxvt-client -g 80x40 -title "$T" -icon ~/.icons/haus/vim.svg -e vim -c 'Org! TODO'

super + control + alt + t
	remind --query

super + control + m
	T='♫ pianobar ♫'; \
	wmctrl -a "$T" || urxvt-client -title "$T" -icon ~/.icons/haus/pandora.svg -e pianobarlaunch pandora.com/a6286098@drdrb.net

super + control + shift + m
	T='♫ cmus ♫'; \
	wmctrl -a "$T" || urxvt-client -cd ~/Media/Music -title "$T" -icon ~/.icons/haus/music.svg -e cmus

super + control + i
	T='❡ irc ❡'; \
	wmctrl -a "$T" || urxvt-client -cd ~/.weechat -title "$T" -icon ~/.icons/haus/irc.svg -e weechat

# vim:noet:
