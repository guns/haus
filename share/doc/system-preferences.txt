# TODO: Convert to a script when moving to the next machine.

### SUDO {{{1

# User whitelist only
guns ALL=(ALL) ALL

# Disable timeouts and force passwords every time
Defaults timestamp_timeout = 0

# Convenient environment variables
Defaults env_reset
Defaults env_keep += "SSH_AUTH_SOCK SSH_AGENT_PID"
Defaults env_keep += "DISPLAY XAUTHORIZATION XAUTHORITY WINDOWID"
Defaults env_keep += "WINDOW TMUX TMUX_PANE"


### X {{{1

# Allow root to connect to user's X server
ln -s ~guns/.Xauthority ~


### MAC OS X Lion 10.7 {{{1

# Set verbose boot
nvram boot-args='-v'

# Disable hibernate mode for speed and security
pmset -a hibernatemode 0
ln -svf /dev/null /var/vm/sleepimage
# Tweak some power settings
pmset -c womp 0
pmset -b displaysleep 10

# Get rid of that terrible 3D dock
defaults write com.apple.dock no-glass -boolean YES

# Turn on full path in Finder Title Bars
defaults write com.apple.finder _FXShowPosixPathInTitle -bool YES

# Enable Mail Bundles
defaults write com.apple.mail EnableBundles 1

# Prefer plain text in Mail
defaults write com.apple.mail PreferPlainText -bool TRUE

# Disable multiple windows in Dictionary.app
defaults write com.apple.Dictionary ProhibitNewWindowForRequest -bool TRUE

# Disable Safari web snapshots (Top Sites, History, etc)
defaults write com.apple.Safari DebugSnapshotsUpdatePolicy -int 2

# Disable PubSubAgent
defaults write com.apple.Safari DebugSyndicationEnabled 0
defaults write com.apple.Mail DebugSyndicationEnabled 0

# Disable Time Machine nag
defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool YES

# Increase the edge-spaces transition time
defaults write com.apple.dock workspaces-edge-delay -float 5.0

# Add custom domains to /etc/resolver
mkdir /etc/resolver; echo 'nameserver 127.0.0.1' > /etc/resolver/dev

# Disable Dashboard
defaults write com.apple.dashboard mcx-disabled -boolean YES

# Non-floating help windows
defaults write com.apple.helpviewer DevMode -bool true

# Keyboard press and hold behavior
defaults write -g ApplePressAndHoldEnabled -boolean NO

# Show unsupported networks in Disk Utility
defaults write com.apple.DiskUtility DUShowUnsupportedNetworks -boolean YES

# Crash Dialog
defaults write com.apple.CrashReporter DialogType -string None


### https://raw.github.com/mathiasbynens/dotfiles/master/.osx {{{1

# Make Dock icons of hidden applications translucent
defaults write com.apple.dock showhidden -bool true

# Allow quitting Finder via ⌘ + Q; doing so will also hide desktop icons
defaults write com.apple.finder QuitMenuItem -bool true

# Expand save panel by default
defaults write NSGlobalDomain NSNavPanelExpandedStateForSaveMode -bool true

# Expand print panel by default
defaults write NSGlobalDomain PMPrintingExpandedStateForPrint -bool true

# Disable the “Are you sure you want to open this application?” dialog
defaults write com.apple.LaunchServices LSQuarantine -bool false

# Disable press-and-hold for keys in favor of key repeat
# defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

# Set a blazingly fast keyboard repeat rate
defaults write NSGlobalDomain KeyRepeat -int 1

# Set a shorter Delay until key repeat
defaults write NSGlobalDomain InitialKeyRepeat -int 12

# Disable auto-correct
defaults write NSGlobalDomain NSAutomaticSpellingCorrectionEnabled -bool false

# Disable the warning when changing a file extension
defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

# Disable the “reopen windows when logging back in” option
# This works, although the checkbox will still appear to be checked.
defaults write com.apple.loginwindow TALLogoutSavesState -bool false
defaults write com.apple.loginwindow LoginwindowLaunchesRelaunchApps -bool false

# vim: filetype=conf:
