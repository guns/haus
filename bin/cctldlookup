#!/usr/bin/env ruby
# -*- encoding: utf-8 -*-

# PP.pp Hash[nokoslurp('https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains').css('table').find{|t| t.to_s.index '.ac'}.css('tr').drop(1).map{|r| k,*v = r.text.delete("\u00A0").split("\n").values_at(1,2,3,4).map(&:strip); [k, v]}], $stdout, 1024

CCTLD = \
{".ac"=>["Ascension Island", "", "Commonly used for academic websites, such as universities. However, .ac is not to be confused with the official British academic domain .ac.uk."],
 ".ad"=>["Andorra", "", "Local trademark, trade name or citizenship required [5][6]"],
 ".ae"=>["United Arab Emirates", "", ""],
 ".af"=>["Afghanistan", "", ""],
 ".ag"=>["Antigua and Barbuda", "", "Also unofficially used by German businesses (where AG is an abbreviation of Aktiengesellschaft)"],
 ".ai"=>["Anguilla", "", ""],
 ".al"=>["Albania", "", "Citizenship no longer required"],
 ".am"=>["Armenia", "", "Also unofficially used by AM radio stations, podcasts or related business"],
 ".an"=>["Netherlands Antilles", "", "Local presence required; Netherlands Antilles were dissolved on October 10, 2010."],
 ".ao"=>["Angola", "", ""],
 ".aq"=>["Antarctica", "Antarctique", "Defined by the Antarctic Treaty as everything south of latitude 60°S. AQ domain names are available to government organizations who are signatories to the Antarctic Treaty and to other registrants who have a physical presence in Antarctica."],
 ".ar"=>["Argentina", "", ""],
 ".as"=>["American Samoa", "", ""],
 ".at"=>["Austria", "", ""],
 ".au"=>["Australia", "", "Restrictions apply. In general, registrants must be Australian, and most have a minimum 2 year registration period.[7] Includes Ashmore and Cartier Islands and Coral Sea Islands."],
 ".aw"=>["Aruba", "Aruba, West Indies", "Restricted to registered Aruban companies, organisations and citizens"],
 ".ax"=>["Åland", "", "Restricted to registered Åland companies, organisations and citizens"],
 ".az"=>["Azerbaijan", "", ""],
 ".ba"=>["Bosnia and Herzegovina", "", ""],
 ".bb"=>["Barbados", "", ""],
 ".bd"=>["Bangladesh", "", ""],
 ".be"=>["Belgium", "", "Also unofficially used in the canton of Bern, Switzerland"],
 ".bf"=>["Burkina Faso", "", ""],
 ".bg"=>["Bulgaria", "", ""],
 ".bh"=>["Bahrain", "", ""],
 ".bi"=>["Burundi", "", ""],
 ".bj"=>["Benin", "", ""],
 ".bm"=>["Bermuda", "", "Local corporate registration required"],
 ".bn"=>["Brunei", "", ""],
 ".bo"=>["Bolivia", "", ""],
 ".bq"=>["Bonaire", "", "Not yet assigned as of 25 Nov 2014"],
 ".br"=>["Brazil", "", "Restricted. Registration is done under several categories (i.e.: .edu.br for higher education institutions, .gov.br for government agencies, etc.)[10]"],
 ".bs"=>["Bahamas", "", ""],
 ".bt"=>["Bhutan", "", ""],
 ".bv"=>["Bouvet Island", "", "Not in use (Norwegian dependency; see .no)."],
 ".bw"=>["Botswana", "", ""],
 ".by"=>["Belarus", "Byelorussia", "also unofficially used to denote Bayern (Bavaria), Germany"],
 ".bz"=>["Belize", "", ""],
 ".ca"=>["Canada", "", "Subject to Canadian Presence Requirements.[12]"],
 ".cc"=>["Cocos (Keeling) Islands", "", "Australian territory: not to be confused with Cocos islands in Guam. Also used as a free domain service to the public as cc.cc, cu.cc or cz.cc domain."],
 ".cd"=>["Democratic Republic of the Congo", "", ""],
 ".cf"=>["Central African Republic", "", ""],
 ".cg"=>["Republic of the Congo", "", ""],
 ".ch"=>["Switzerland", "Confoederatio Helvetica (Latin)", ""],
 ".ci"=>["Côte d'Ivoire", "", ""],
 ".ck"=>["Cook Islands", "", ""],
 ".cl"=>["Chile", "", ""],
 ".cm"=>["Cameroon", "", "A local entity/company in Cameroon is required to register a domain name."],
 ".cn"=>["People's Republic of China", "", "A local company in China is required to register a domain name, or for personal registrations a valid Resident Identity Card. See ICP license for more information regarding registrations. Hong Kong and Macau also maintain TLDs."],
 ".co"=>["Colombia", "", "Marketed as a global domain – recognized as a gccTLD by Google. Anyone can register."],
 ".cr"=>["Costa Rica", "", ""],
 ".cs"=>["Czechoslovakia", "Serbia and Montenegro", ""],
 ".cu"=>["Cuba", "", ""],
 ".cv"=>["Cape Verde", "", ""],
 ".cw"=>["Curaçao", "Curaçao, West Indies", ""],
 ".cx"=>["Christmas Island", "", ""],
 ".cy"=>["Cyprus", "", ""],
 ".cz"=>["Czech Republic", "", ""],
 ".dd"=>["East Germany", "Deutsche Demokratische Republik", "Was reserved for this country, but never implemented due to German re-unification."],
 ".de"=>["Germany", "Deutschland", "German postal address for administrative contact (admin-c) required. Proxy registrations are allowed."],
 ".dj"=>["Djibouti", "", ""],
 ".dk"=>["Denmark", "", ""],
 ".dm"=>["Dominica", "", ""],
 ".do"=>["Dominican Republic", "", ""],
 ".dz"=>["Algeria", "Al-Djazair, transliterated al-Jazair in English", ""],
 ".ec"=>["Ecuador", "", ""],
 ".ee"=>["Estonia", "Eesti", "Anyone can register but local administrative contact is required."],
 ".eg"=>["Egypt", "", ""],
 ".eh"=>["Western Sahara", "Saguia el-Hamra", ".eh is reserved for Western Sahara, but does not exist in the root."],
 ".er"=>["Eritrea", "", "Inactive – The domain registrar Eritrea Telecommunication Services Corporation offers no services to register domains."],
 ".es"=>["Spain", "España", ""],
 ".et"=>["Ethiopia", "", ""],
 ".eu"=>["European Union", "", "Restricted to legal and natural persons in European Union member states. Previously unofficially used for sites in the Basque language, but now .eus is in official use."],
 ".fi"=>["Finland", "", "Restricted to legal and natural persons residing in Finland."],
 ".fj"=>["Fiji", "", ""],
 ".fk"=>["Falkland Islands", "", ""],
 ".fm"=>["Federated States of Micronesia", "", "Also unofficially used by FM radio stations, podcasts or related business"],
 ".fo"=>["Faroe Islands", "Føroyar", ""],
 ".fr"=>["France", "", "Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".ga"=>["Gabon", "", ""],
 ".gb"=>["United Kingdom", "Great Britain", "Deprecated.[15] The primary ccTLD used for the United Kingdom is .uk."],
 ".gd"=>["Grenada", "", ""],
 ".ge"=>["Georgia", "", "Available for registration for residents of Georgia (unlimited) or for foreign companies via representation of any local legal person (one domain name per registrant)[16]"],
 ".gf"=>["French Guiana", "Guyane française", ""],
 ".gg"=>["Guernsey", "Guernsey/Guernesey", ""],
 ".gh"=>["Ghana", "", ""],
 ".gi"=>["Gibraltar", "", ""],
 ".gl"=>["Greenland", "", "Previously also unofficially used in Galicia, Spain, but now .gal has been approved for such use and was implemented in mid-2014"],
 ".gm"=>["The Gambia", "", "Domain name should match the domain owners name or trademarks. Common nouns are blocked."],
 ".gn"=>["Guinea", "", "A local contact is required"],
 ".gp"=>["Guadeloupe", "", "Still used for Saint-Barthélemy and Saint-Martin"],
 ".gq"=>["Equatorial Guinea", "Guiéquatoriale", ""],
 ".gr"=>["Greece", "", ""],
 ".gs"=>["South Georgia and the South Sandwich Islands", "", ""],
 ".gt"=>["Guatemala", "", ""],
 ".gu"=>["Guam", "", ""],
 ".gw"=>["Guinea-Bissau", "", ""],
 ".gy"=>["Guyana", "", ""],
 ".hk"=>["Hong Kong", "", "Special administrative region of the People's Republic of China."],
 ".hm"=>["Heard Island and McDonald Islands", "", ""],
 ".hn"=>["Honduras", "", ""],
 ".hr"=>["Croatia", "Hrvatska", ""],
 ".ht"=>["Haiti", "", ""],
 ".hu"=>["Hungary", "", "citizens of EU or entity established by virtue of law in the territory of EU"],
 ".id"=>["Indonesia", "", "Restricted to Indonesian companies (co.id), organisations (or.id), academic (ac.id & sch.id) and citizens (biz.id, my.id & web.id). Second-level domains are becoming available now and opened to general registration on August 17, 2014.[17]"],
 ".ie"=>["Ireland", "", "In 2002, registration was expanded to include persons or businesses with a \"real and substantive\" connection with the island of Ireland (including Northern Ireland).[19][20]"],
 ".il"=>["Israel", "", ""],
 ".im"=>["Isle of Man", "", ""],
 ".in"=>["India", "", "Under INRegistry since April 2005 (except: gov.in, nic.in, mil.in, ac.in, edu.in, res.in)."],
 ".io"=>["British Indian Ocean Territory", "", "Used unofficially by technology companies/startups/web applications because IO can be an acronym for input/output which is useful for domain hacks."],
 ".iq"=>["Iraq", "", ""],
 ".ir"=>["Iran", "", ""],
 ".is"=>["Iceland", "Ísland", ""],
 ".it"=>["Italy", "", "Restricted to companies and individuals in the European Union."],
 ".je"=>["Jersey", "", "-je is used in Dutch to form a diminutive: boek = a book, boekje = a little book"],
 ".jm"=>["Jamaica", "", ""],
 ".jo"=>["Jordan", "", ""],
 ".jp"=>["Japan", "", "Restricted to individuals or companies with a physical address in Japan."],
 ".ke"=>["Kenya", "", ""],
 ".kg"=>["Kyrgyzstan", "", ""],
 ".kh"=>["Cambodia", "Khmer, former Kâmpŭchea", ""],
 ".ki"=>["Kiribati", "", ""],
 ".km"=>["Comoros", "Komori", ""],
 ".kn"=>["Saint Kitts and Nevis", "", ""],
 ".kp"=>["Democratic People's Republic of Korea", "", ""],
 ".kr"=>["Republic of Korea", "", ""],
 ".krd"=>["Kurdistan", "KRG", "Currently restricted to organisations and businesses physically have presence in Kurdistan Regional Government (KRG)"],
 ".kw"=>["Kuwait", "", ""],
 ".ky"=>["Cayman Islands", "", "Restricted to qualified Cayman entities[21]"],
 ".kz"=>["Kazakhstan", "", ""],
 ".la"=>["Laos", "", "Currently being marketed as the unofficial domain for Los Angeles[22]"],
 ".lb"=>["Lebanon", "", "Restricted to registration with a company in Lebanon"],
 ".lc"=>["Saint Lucia", "", ""],
 ".li"=>["Liechtenstein", "", "Also used by Long Island"],
 ".lk"=>["Sri Lanka", "Lanka", ""],
 ".lr"=>["Liberia", "", ""],
 ".ls"=>["Lesotho", "", ""],
 ".lt"=>["Lithuania", "", ""],
 ".lu"=>["Luxembourg", "", ""],
 ".lv"=>["Latvia", "", ""],
 ".ly"=>["Libya", "", ""],
 ".ma"=>["Morocco", "Maroc", "Also used as a free domain service to the public as cu.ma"],
 ".mc"=>["Monaco", "", "Only for companies with a trademark registered in Monaco"],
 ".md"=>["Moldova", "", "Restricted to individuals or companies with a physical address in Moldova."],
 ".me"=>["Montenegro", "", ""],
 ".mg"=>["Madagascar", "", ""],
 ".mh"=>["Marshall Islands", "", ""],
 ".mk"=>["Macedonia", "Makedonija", "Restricted to registration with a company in Macedonia"],
 ".ml"=>["Mali", "", "Also used as a free domain service to the public."],
 ".mm"=>["Myanmar", "", ""],
 ".mn"=>["Mongolia", "", "The second-level domains '.gov.mn', '.org.mn', and '.edu.mn' are reserved for special use. See .mn for more information."],
 ".mo"=>["Macau", "Macao", "Special administrative region of the People's Republic of China. Registrants must have a registered business in Macau, with the same name as the domain they wish to register.[23]"],
 ".mp"=>["Northern Mariana Islands", "Marianas Pacific", ""],
 ".mq"=>["Martinique", "", ""],
 ".mr"=>["Mauritania", "", ""],
 ".ms"=>["Montserrat", "", ""],
 ".mt"=>["Malta", "", ""],
 ".mu"=>["Mauritius", "", ""],
 ".mv"=>["Maldives", "", ""],
 ".mw"=>["Malawi", "", ""],
 ".mx"=>["Mexico", "", ""],
 ".my"=>["Malaysia", "", "Restricted to registration by an individual or company in Malaysia"],
 ".mz"=>["Mozambique", "", ""],
 ".na"=>["Namibia", "", ""],
 ".nc"=>["New Caledonia", "", "Restricted to companies that have a New Caledonian Business Registration Certificate or individuals living in New Caledonia for at least 6 months."],
 ".ne"=>["Niger", "", ""],
 ".nf"=>["Norfolk Island", "", ""],
 ".ng"=>["Nigeria", "", ""],
 ".ni"=>["Nicaragua", "", ""],
 ".nl"=>["Netherlands", "Nederland", "First official country code TLD.[24]"],
 ".no"=>["Norway", "", "Businesses and professionals must be registered as an approved type of organization in the Brønnøysund Register Centre. Individual applicants must be of age (18 years) and be registered in the Folkeregisteret. All applicants must have a Norwegian postal address."],
 ".np"=>["Nepal", "", "All .np domains are free to register for individuals and registered businesses."],
 ".nr"=>["Nauru", "", "Also used as a free domain service to the public as co.nr."],
 ".nu"=>["Niue", "", "Commonly used by Danish, Dutch and Swedish websites, because in those languages \"nu\" means \"now\"."],
 ".nz"=>["New Zealand", "", ""],
 ".om"=>["Oman", "", "Registrant must have company or trademark registered in Oman as well as a local administrative contact."],
 ".pa"=>["Panama", "", ""],
 ".pe"=>["Peru", "", ""],
 ".pf"=>["French Polynesia", "Polynésie française", "With Clipperton Island"],
 ".pg"=>["Papua New Guinea", "", ""],
 ".ph"=>["Philippines", "", ""],
 ".pk"=>["Pakistan", "", "Operated by PKNIC since 1992"],
 ".pl"=>["Poland", "", ""],
 ".pm"=>["Saint-Pierre and Miquelon", "", "Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".pn"=>["Pitcairn Islands", "", ""],
 ".pr"=>["Puerto Rico", "", ""],
 ".ps"=>["State of Palestine[26]", "", "West Bank and Gaza Strip."],
 ".pt"=>["Portugal", "", ""],
 ".pw"=>["Palau", "Pelew", ""],
 ".py"=>["Paraguay", "", ""],
 ".qa"=>["Qatar", "", ""],
 ".re"=>["Réunion", "", "Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".ro"=>["Romania", "", ""],
 ".rs"=>["Serbia", "Republika Srbija", ""],
 ".ru"=>["Russia", "", "See also .su, still in use, and .рф, for IDN."],
 ".rw"=>["Rwanda", "", ""],
 ".sa"=>["Saudi Arabia", "", "Registrant must have a registered trademark in Saudi Arabia matching the domain name to register or provide company incorporation documents of a company in Saudi Arabia or for personal registrations a copy of valid ID. A letter on the official letterhead of your organization addressed to SaudiNIC requesting the domain name registration is also required. Local administrative contact required. 2LD registrations rolled out in 2011.[29]"],
 ".sb"=>["Solomon Islands", "British Solomon Islands", ""],
 ".sc"=>["Seychelles", "", ""],
 ".sd"=>["Sudan", "", ""],
 ".se"=>["Sweden", "", ""],
 ".sg"=>["Singapore", "", ""],
 ".sh"=>["Saint Helena", "", ""],
 ".si"=>["Slovenia", "", ""],
 ".sj"=>["Svalbard and", "Jan Mayen Islands", ""],
 ".sk"=>["Slovakia", "", "Restricted to Slovak companies, organisations and citizens"],
 ".sl"=>["Sierra Leone", "", ""],
 ".sm"=>["San Marino", "", "Domain name must be same as company name or trademark"],
 ".sn"=>["Senegal", "", ""],
 ".so"=>["Somalia", "", "Relaunched on November 1, 2010"],
 ".sr"=>["Suriname", "", ""],
 ".ss"=>["South Sudan", "", "Removed from the root DNS zone in April 2013"],
 ".st"=>["São Tomé and Príncipe", "", ""],
 ".su"=>["Soviet Union", "", "Still in use."],
 ".sv"=>["El Salvador", "", ""],
 ".sx"=>["Sint Maarten", "", ""],
 ".sy"=>["Syria", "", ""],
 ".sz"=>["Swaziland", "", "Registration is restricted to Swaziland organizations with Swaziland Trading Licenses."],
 ".tc"=>["Turks and Caicos Islands", "", ".TC domains are also marketed in Turkey. The official abbreviation of 'Türkiye Cumhuriyeti' (Republic of Turkey) is TC."],
 ".td"=>["Chad", "Tchad", "Chadian (.td) domains are available for registration to entities connected with Chad only."],
 ".tf"=>["French Southern and Antarctic Lands", "Terres australes et antarctiques françaises", "Seldom used. Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".tg"=>["Togo", "", ""],
 ".th"=>["Thailand", "", ""],
 ".tj"=>["Tajikistan", "", ""],
 ".tk"=>["Tokelau", "", "Also used as a free domain service to the public. Used in the Netherlands because tk ('te koop') means 'for sale' in Dutch."],
 ".tl"=>["East Timor", "Timor-Leste", "Old code .tp is still in use."],
 ".tm"=>["Turkmenistan", "", ""],
 ".tn"=>["Tunisia", "", ""],
 ".to"=>["Tonga", "", "Often used unofficially for Torrent, Turin, Toronto, Tokyo, or Tocantins"],
 ".tr"=>["Turkey", "", ".nc.tr used by Northern Cyprus"],
 ".tt"=>["Trinidad and Tobago", "", ""],
 ".tv"=>["Tuvalu", "", "Used as an abbreviation of television, the domain is currently operated by dotTV, a VeriSign company; the Tuvalu government owns twenty percent of the company."],
 ".tw"=>["Taiwan", "", "Registration allowed worldwide, local presence not required. In line with ISO 3166-1, IANA's official position is that “TW” is \"designated for use to represent \"Taiwan, Province of China.\"[32]"],
 ".tz"=>["Tanzania", "", "Must have a presence in Tanzania"],
 ".ua"=>["Ukraine", "Україна/Ukraina", "Ukrainian trademark required"],
 ".ug"=>["Uganda", "", ""],
 ".uk"=>["United Kingdom", "", "The ISO 3166-1 code for the United Kingdom is GB. UK is a specially reserved ISO 3166-1 code for the UK. However, the creation of the .uk TLD predates the ISO 3166-1 list of ccTLD and is the primary TLD for the United Kingdom.[15]"],
 ".us"=>["United States of America", "", "Registrants must be United States citizens, residents, or organizations, or a foreign entity with a presence in the United States. Formerly commonly used by US State and local governments, see also .gov TLD"],
 ".uy"=>["Uruguay", "", "2LD rollout began on 10 July 2012.[33]"],
 ".uz"=>["Uzbekistan", "", ""],
 ".va"=>["Vatican City", "Vaticano", "Limited to the official sites of the Holy See (including those of the Vatican City State)"],
 ".vc"=>["Saint Vincent and the Grenadines", "", ""],
 ".ve"=>["Venezuela", "", ""],
 ".vg"=>["British Virgin Islands", "", ""],
 ".vi"=>["United States Virgin Islands", "", ""],
 ".vn"=>["Vietnam", "", ""],
 ".vu"=>["Vanuatu", "", ""],
 ".wf"=>["Wallis and Futuna", "", "Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".ws"=>["Samoa", "Western Samoa (former name)", "Marketed to be used in general WebSites"],
 ".ye"=>["Yemen", "", ""],
 ".yt"=>["Mayotte", "", "Restricted to individuals and companies in European Union, Switzerland, Norway, Iceland and Liechtenstein.[cctld 11]"],
 ".yu"=>["SFR Yugoslavia", "FR Yugoslavia", ""],
 ".za"=>["South Africa", "Zuid-Afrika (Dutch)", ""],
 ".zm"=>["Zambia", "", ""],
 ".zr"=>["Zaire", "", "Zaire renamed Democratic Republic of the Congo in 1997."],
 ".zw"=>["Zimbabwe", "", ""]}

def fmt k, v
  "%s: %s%s%s" % [
    k,
    v[0],
    (" (#{v[1]})" if v[1].size > 0),
    ("\n     # " << v[2] if v[2].size > 0)
  ]
end

def lookup k
  if v = CCTLD[k]
    puts fmt(k, v)
    return true
  end
  false
end

def reverse_lookup pat
  CCTLD.each do |(k, v)|
    if v.join(' ') =~ pat
      puts fmt(k, v)
      return true
    end
  end
  false
end

ARGV.each do |a|
  catch :done do
    [a, a.downcase, '.' << a.downcase].each do |k|
      lookup k and throw :done
    end
    reverse_lookup Regexp.compile(a, 'i')
  end
end
